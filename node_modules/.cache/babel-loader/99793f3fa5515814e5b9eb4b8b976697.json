{"ast":null,"code":"import productLists from \"../pages/data\";\nconst initialState = {\n  products: productLists,\n  product: [{\n    productId: 0,\n    productDesc: \"\",\n    productPrice: \"\",\n    productName: \"\",\n    productMaterial: \"\"\n  }],\n  basket: [],\n  total: 0\n};\n\nconst productReducer = (state = initialState, action) => {\n  if (action.type === 'ADD_ITEM') {\n    console.log(\"action\", action.product.productId);\n    let addedItem = state.products.find(item => item.productId === action.product.productId);\n    console.log(\"added\", addedItem);\n    let isibasket = state.basket;\n    console.log(\"isi\", isibasket);\n    let existed_item = state.basket.map(item => item.productIid);\n    console.log(\"basketid\", state.basket.productId);\n    console.log(\"existed_item\", existed_item);\n\n    if (existed_item) {\n      console.log(\"ada\");\n      addedItem.quantity += 1;\n      return { ...state,\n        total: state.total + addedItem.productPrice\n      };\n    } else {\n      console.log(\"g ada item\");\n      addedItem.quantity = 1; //calculating the total\n\n      let newTotal = state.total + addedItem.productPrice;\n      return { ...state,\n        basket: [...state.basket, addedItem],\n        total: newTotal\n      };\n    } // return {\n    //     ...state,\n    //     basket: [ ...state.basket, action.product\n    //     ]\n    // }\n\n  }\n\n  if (action.type === 'DEL_ITEM') {\n    const filteredProduct = state.basket.filter(product => String(product.productId) !== String(action.products.productId));\n    return { ...state,\n      basket: filteredProduct\n    };\n  }\n\n  return state;\n};\n\nexport default productReducer;","map":{"version":3,"sources":["/Users/firdausmac/Documents/FULLSTACK/CARI GITHUB/small-project2/src/reducers/productReducer.js"],"names":["productLists","initialState","products","product","productId","productDesc","productPrice","productName","productMaterial","basket","total","productReducer","state","action","type","console","log","addedItem","find","item","isibasket","existed_item","map","productIid","quantity","newTotal","filteredProduct","filter","String"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,eAAzB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAEF,YADO;AAEjBG,EAAAA,OAAO,EAAC,CAAC;AACLC,IAAAA,SAAS,EAAG,CADP;AAELC,IAAAA,WAAW,EAAG,EAFT;AAGLC,IAAAA,YAAY,EAAG,EAHV;AAILC,IAAAA,WAAW,EAAG,EAJT;AAKLC,IAAAA,eAAe,EAAG;AALb,GAAD,CAFS;AASjBC,EAAAA,MAAM,EAAC,EATU;AAUjBC,EAAAA,KAAK,EAAG;AAVS,CAArB;;AAaA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAGX,YAAT,EAAuBY,MAAvB,KAAkC;AACrD,MAAIA,MAAM,CAACC,IAAP,KAAgB,UAApB,EACA;AACEC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,MAAM,CAACV,OAAP,CAAeC,SAArC;AACA,QAAIa,SAAS,GAAGL,KAAK,CAACV,QAAN,CAAegB,IAAf,CAAoBC,IAAI,IAAGA,IAAI,CAACf,SAAL,KAAmBS,MAAM,CAACV,OAAP,CAAeC,SAA7D,CAAhB;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,SAArB;AACA,QAAIG,SAAS,GAAGR,KAAK,CAACH,MAAtB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBI,SAAnB;AACA,QAAIC,YAAY,GAAET,KAAK,CAACH,MAAN,CAAaa,GAAb,CAAiBH,IAAI,IAAGA,IAAI,CAACI,UAA7B,CAAlB;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBJ,KAAK,CAACH,MAAN,CAAaL,SAApC;AAEAW,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BK,YAA5B;;AAEA,QAAGA,YAAH,EACG;AACEN,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACCC,MAAAA,SAAS,CAACO,QAAV,IAAsB,CAAtB;AACC,aAAM,EACH,GAAGZ,KADA;AAEFF,QAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAcO,SAAS,CAACX;AAF7B,OAAN;AAIJ,KARH,MASO;AACFS,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACCC,MAAAA,SAAS,CAACO,QAAV,GAAqB,CAArB,CAFC,CAGD;;AACA,UAAIC,QAAQ,GAAGb,KAAK,CAACF,KAAN,GAAcO,SAAS,CAACX,YAAvC;AAEA,aAAM,EACF,GAAGM,KADD;AAEFH,QAAAA,MAAM,EAAE,CAAC,GAAGG,KAAK,CAACH,MAAV,EAAkBQ,SAAlB,CAFN;AAGFP,QAAAA,KAAK,EAAGe;AAHN,OAAN;AAMH,KAhCL,CAqCE;AACA;AACA;AACA;AACA;;AACD;;AACD,MAAIZ,MAAM,CAACC,IAAP,KAAgB,UAApB,EACA;AACE,UAAMY,eAAe,GAAGd,KAAK,CAACH,MAAN,CACvBkB,MADuB,CAEtBxB,OAAO,IAAIyB,MAAM,CAACzB,OAAO,CAACC,SAAT,CAAN,KAA8BwB,MAAM,CAACf,MAAM,CAACX,QAAP,CAAgBE,SAAjB,CAFzB,CAAxB;AAIA,WAAO,EACH,GAAGQ,KADA;AAEHH,MAAAA,MAAM,EAAEiB;AAFL,KAAP;AAID;;AACD,SAAOd,KAAP;AACH,CAzDD;;AA2DA,eAAeD,cAAf","sourcesContent":["import productLists from \"../pages/data\"\n\nconst initialState = {\n    products: productLists,\n    product:[{\n        productId : 0,\n        productDesc : \"\",\n        productPrice : \"\",\n        productName : \"\",\n        productMaterial : \"\",\n    }],\n    basket:[],\n    total : 0,\n  }\n\nconst productReducer = (state = initialState, action) => {\n    if (action.type === 'ADD_ITEM') \n    {\n      console.log(\"action\", action.product.productId)\n      let addedItem = state.products.find(item=> item.productId === action.product.productId)\n      console.log(\"added\", addedItem)\n      let isibasket = state.basket\n      console.log(\"isi\", isibasket)\n      let existed_item= state.basket.map(item=> item.productIid)\n      console.log(\"basketid\",state.basket.productId)\n      \n      console.log(\"existed_item\", existed_item)\n\n      if(existed_item)\n         {\n           console.log(\"ada\")\n            addedItem.quantity += 1 \n             return{\n                ...state,\n                 total: state.total + addedItem.productPrice \n                  }\n        }\n         else{\n           console.log(\"g ada item\")\n            addedItem.quantity = 1;\n            //calculating the total\n            let newTotal = state.total + addedItem.productPrice \n            \n            return{\n                ...state,\n                basket: [...state.basket, addedItem],\n                total : newTotal\n            }\n            \n        }\n\n\n\n\n      // return {\n      //     ...state,\n      //     basket: [ ...state.basket, action.product\n      //     ]\n      // }\n    }\n    if (action.type === 'DEL_ITEM') \n    {\n      const filteredProduct = state.basket\n      .filter(\n        product => String(product.productId) !== String(action.products.productId)\n      )\n      return {\n          ...state,\n          basket: filteredProduct\n      }\n    }\n    return state;\n}\n  \nexport default productReducer;"]},"metadata":{},"sourceType":"module"}